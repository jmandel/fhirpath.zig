{
  "meta": {
    "status": "implemented",
    "spec_notes": [
      "Path selection: paths navigate by composing concatenated labels (spec §Path selection)",
      "Collections are fundamental: each step returns a collection, flattening arrays along the way",
      "Environment variables: %name tokens refer to values passed by calling environment (spec §Environment variables)",
      "Delimited identifiers: backticks allow identifiers with special chars like hyphens (spec §Identifiers)"
    ],
    "todo": [
      "Add test for empty path (just $this or context reference)",
      "Add test for paths starting with type name (e.g., Patient.name)",
      "Add test for deeply nested array flattening",
      "Add test for delimited identifier with escape sequences",
      "Improve passing rate (4/4 passing)"
    ]
  },
  "cases": [
    {
      "name": "simple path",
      "expr": "name.given",
      "input": { "name": { "given": ["Ann", "Bob"] } },
      "expect": ["Ann", "Bob"]
    },
    {
      "name": "array navigation",
      "expr": "name.given",
      "input": { "name": [ { "given": ["Ann"] }, { "given": ["Bob"] } ] },
      "expect": ["Ann", "Bob"]
    },
    {
      "name": "env root",
      "expr": "%root.name.given",
      "input": { "ignored": true },
      "env": { "root": { "name": { "given": ["Ann"] } } },
      "expect": ["Ann"]
    },
    {
      "name": "delimited identifier",
      "expr": "`given-name`",
      "input": { "given-name": "Ann" },
      "expect": ["Ann"]
    }
  ]
}
